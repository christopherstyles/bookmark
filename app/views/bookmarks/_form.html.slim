= form_for @bookmark do |f|
  - if @bookmark.errors.any?
    #error_explanation
      h2 = "#{pluralize(@bookmark.errors.count, "error")} prohibited this bookmark from being saved:"
      ul
        - @bookmark.errors.full_messages.each do |message|
          li = message

  .form-group
    = f.label :title, class: 'form-label'
    = f.text_field :title, class: 'form-input'
  .form-group
    = f.label :url, class: 'form-label'
    = f.text_area :url, class: 'form-input'
  .form-group
    = f.label :tag_list, class: 'form-label'
    = f.text_field :tag_list, class: '', value: @bookmark.tags.map(&:name).join(',')
  .form-group
    = f.label :notes, class: 'form-label'
    = f.text_area :notes, class: 'form-input'
  .actions
    = f.submit class: 'btn btn-primary'

javascript:
  var simplemde = new SimpleMDE({
    autoDownloadFontAwesome: false,
    element: document.getElementById("bookmark_notes"),
    indentWithTabs: false,
    renderingConfig: {
      codeSyntaxHighlighting: true,
    }
  });

  $('#bookmark_tag_list').selectize({
    delimiter: ',',
    persist: false,
    create: function(input) {
      return {
        id: input,
        name: input
      }
    },
    valueField: 'name',
    labelField: 'name',
    searchField: 'name',
    openOnFocus: false,
    maxOptions: 5,
    hideSelected: true,
    closeAfterSelect: true,
    options: #{raw options_for_tags.to_json},
  });
